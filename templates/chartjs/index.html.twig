{% extends 'base.html.twig' %}

{% block title %}Chiffre d'Affaires{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
     .total-wrapper { background-color: #f5f5f5; padding: 20px; text-align: center; }
    .total-text { font-size: 24px; font-weight: bold; }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js" integrity="sha512-SIMGYRUjwY8+gKg7nn9EItdD8LCADSDfJNutF9TPrvEo86sQmFMh6MyralfIyhADlajSxqc7G0gs7+MwWF/ogQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<div class="example-wrapper">
 
    {% if results is not empty %}
        <div class="total-wrapper">
            <p class="total-text">Somme totale : {{ resultss }} €</p>
        </div>
        <ul>
            {% for result in results %}
                <li>Date : {{ result['date_realisation']|date('Y-m-d') }}, chiffre d'affaire : {{ result['total'] }} €</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Pas de données disponibles.</p>
    {% endif %}
    {{ render_chart(chart, {'id': 'chart'}) }}
</div>
{% endblock %}
